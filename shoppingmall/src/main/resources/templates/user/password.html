<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>비밀번호 변경 | MyPage</title>
    <link rel="stylesheet" href="/css/change-password.css" />
    <link rel="stylesheet" href="/css/mypage.css" />
  </head>
  <body>
    <div th:replace="fragments :: header"></div>

    <div class="mypage-container">
      <!-- 📌 사이드바 -->
      <aside class="mypage-sidebar">
        <ul class="sidebar-menu">
          <li><a th:href="@{/mypage}" class="active">내정보</a></li>
          <li><a th:href="@{/myposts}">작성글 관리</a></li>
          <li><a th:href="@{/myfavorites}">관심 데일리룩</a></li>
        </ul>
      </aside>

      <!-- 메인 콘텐츠 -->
      <main class="mypage-content">
        <div class="password-change-card">
          <h2>비밀번호 변경</h2>
          <p class="description">
            보안을 위해 주기적으로 비밀번호를 변경해주세요.
          </p>

          <p
            th:if="${notEqualCurrentPassword} or ${notEqualNewPassword} or ${errorChangePassword} or ${successChangePassword}"
            th:text="${notEqualCurrentPassword} 
              ?: (${notEqualNewPassword} 
                 ?: (${errorChangePassword} 
                    ?: ${successChangePassword}))"
            class="description-error"
          ></p>

          <form
            th:action="@{/mypage/password}"
            th:object="${password}"
            method="post"
          >
            <div class="form-group">
              <label for="currentPassword">현재 비밀번호</label>
              <input
                type="password"
                id="currentPassword"
                name="currentPassword"
                required
                placeholder="현재 비밀번호 입력"
              />
            </div>

            <div class="form-group">
              <label for="newPassword">새 비밀번호</label>
              <input
                type="password"
                id="newPassword"
                name="newPassword"
                required
                placeholder="새 비밀번호 입력"
              />
            </div>

            <div class="form-group">
              <label for="confirmPassword">새 비밀번호 확인</label>
              <input
                type="password"
                id="confirmPassword"
                name="confirmPassword"
                required
                placeholder="새 비밀번호 확인"
              />
            </div>

            <div class="form-actions">
              <button type="submit" class="btn-submit">비밀번호 변경</button>
            </div>
          </form>
        </div>
      </main>
    </div>

    <!-- 공통 footer -->
    <div th:replace="fragments :: footer"></div>
  </body>
</html>
